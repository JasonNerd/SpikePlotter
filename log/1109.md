`2023-11-09 14:23:41`:
今天下午看了关于 tuning curve 的计算程序
关键点在于将位置信息转为角度信息:
```py
'pos_xy':
array([[ 0.0453757 ,  0.0928579 ],
       [-0.11403987,  0.11331594],
       [-0.21601522,  0.12687749],
       ...,
       [ 0.30711466,  0.02637941],
       [ 0.3024704 ,  0.02422172],
       [ 0.29971337,  0.02336913]], dtype=float32)
# (599, 2)

# diff 得到速度
v_xy = np.diff(pos_xy, axis=0)  # (598, 2)
# arctan 得到 弧度值
dir_angle = np.arctan(v_xy[:, 1] / v_xy[:, 0])  # (598,)
# 由于 arctan 返回的弧度值位于[-pi/2, pi/2], 因此需要处理得到[0, 2*pi]范围内的真实值
# [+, +](0,pi/2) --> (0,pi/2), 二三象限[-, +][-, -]加上 pi --> (3*pi/2,pi/2)
# 第四象限[-, -](-pi/2,0)加上2*pi-->(3*pi/2, 2*pi)
pos = v_xy[:,0] < 0
dir_angle[pos] += np.pi
dir_angle[dir_angle<0] += 2*np.pi
```


